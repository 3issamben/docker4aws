{
    "ECRPolicy": {
        "DependsOn": [
            "ProxyRole",
            "WorkerRole"
        ],
        "Properties": {
            "PolicyDocument": {
                "Statement": [
                    {
                        "Action": [
                            "ecr:GetAuthorizationToken",
                            "ecr:BatchCheckLayerAvailability",
                            "ecr:GetDownloadUrlForLayer",
                            "ecr:GetRepositoryPolicy",
                            "ecr:DescribeRepositories",
                            "ecr:ListImages",
                            "ecr:DescribeImages",
                            "ecr:BatchGetImage"
                        ],
                        "Effect": "Allow",
                        "Resource": "*"
                    }
                ],
                "Version": "2012-10-17"
            },
            "PolicyName": "ecr-policy",
            "Roles": [
                {
                    "Ref": "ProxyRole"
                },
                {
                    "Ref": "WorkerRole"
                }
            ]
        },
        "Type": "AWS::IAM::Policy"
    }
}
